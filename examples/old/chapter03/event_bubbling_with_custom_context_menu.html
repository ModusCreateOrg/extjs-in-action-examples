<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Ext JS in Action Chapter 03 | Event bubbling with a custom context menu</title>
<link rel="stylesheet" type="text/css" href="/extjs/resources/css/ext-all.css" />
<script type="text/javascript" src="/extjs/adapter/ext/ext-base.js"></script>
<script type="text/javascript" src="/extjs/ext-all-debug.js"></script>

</head>
<body>
<script type="text/javascript">
Ext.onReady(function() {
    /**
     * This example demonstrates how to setup a custom contextmenu event handler on a parent and child element.  The
     * event bubbles up from the 'myHref' element to the myDiv element.
     */
    var console = window.console;
    
    Ext.get('myDiv').on('contextmenu', function(eventObj, elRef) {
        console.log('myDiv contextmenu Handler, source elment ID: ' + elRef.id);
    });                                                                                                                 

    Ext.get('myHref').on('contextmenu', function(eventObj, elRef) {
        eventObj.stopEvent();
        console.log('myHref contextmenu Handler, source elment ID: ' + elRef.id);

        if (!this.ctxMenu) {
            this.ctxMenu = new Ext.menu.Menu({
                items : [{
                    text : "This is"
                },{
                    text : "our custom"
                },{
                    text : "context menu"
                }]
            });
        }
        this.ctxMenu.show(elRef);

    });


});
</script>

<div id="myDiv">
    MyDiv Text
    <a href="#" id="myHref">
        My Href
    </a>
</div>


</body>
</html>
